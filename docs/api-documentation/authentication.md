# API аутентификации

Эндпоинты для регистрации, аутентификации и управления доступом.

## Регистрация пользователя

### Запрос

```
POST /auth/register
```

#### Тело запроса

```json
{
  "email": "user@example.com",
  "password": "securePassword123",
  "firstName": "Иван",
  "lastName": "Петров"
}
```

#### Параметры

| Параметр | Тип | Обязательный | Описание |
|---------|-----|-------------|----------|
| email | string | Да | Email пользователя |
| password | string | Да | Пароль (мин. 6 символов) |
| firstName | string | Да | Имя пользователя |
| lastName | string | Да | Фамилия пользователя |

### Ответ

```json
{
  "success": true,
  "message": "Регистрация успешна. Пожалуйста, проверьте вашу почту для верификации аккаунта."
}
```

## Авторизация пользователя

### Запрос

```
POST /auth/login
```

#### Тело запроса

```json
{
  "email": "user@example.com",
  "password": "securePassword123"
}
```

#### Параметры

| Параметр | Тип | Обязательный | Описание |
|---------|-----|-------------|----------|
| email | string | Да | Email пользователя |
| password | string | Да | Пароль |

### Ответ

```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "60d21b4667d0d8992e610c85",
    "email": "user@example.com",
    "firstName": "Иван",
    "lastName": "Петров",
    "role": "user",
    "avatar": "https://example.com/avatars/default.jpg"
  }
}
```

## Восстановление пароля

### Запрос

```
POST /auth/forgot-password
```

#### Тело запроса

```json
{
  "email": "user@example.com"
}
```

#### Параметры

| Параметр | Тип | Обязательный | Описание |
|---------|-----|-------------|----------|
| email | string | Да | Email пользователя |

### Ответ

```json
{
  "success": true,
  "message": "Инструкция по сбросу пароля отправлена на ваш email."
}
```

## Сброс пароля

### Запрос

```
POST /auth/reset-password/{token}
```

#### Тело запроса

```json
{
  "password": "newSecurePassword123"
}
```

#### Параметры пути

| Параметр | Описание |
|---------|----------|
| token | Токен для сброса пароля, полученный по email |

#### Параметры запроса

| Параметр | Тип | Обязательный | Описание |
|---------|-----|-------------|----------|
| password | string | Да | Новый пароль (мин. 6 символов) |

### Ответ

```json
{
  "success": true,
  "message": "Пароль успешно изменен. Теперь вы можете войти с новым паролем."
}
```

## Верификация Email

### Запрос

```
GET /auth/verify-email/{token}
```

#### Параметры пути

| Параметр | Описание |
|---------|----------|
| token | Токен для верификации email, полученный по email |

### Ответ

```json
{
  "success": true,
  "message": "Email успешно верифицирован. Теперь вы можете войти в систему."
}
```

## Повторная отправка письма для верификации

### Запрос

```
POST /auth/resend-verification
```

#### Тело запроса

```json
{
  "email": "user@example.com"
}
```

#### Параметры

| Параметр | Тип | Обязательный | Описание |
|---------|-----|-------------|----------|
| email | string | Да | Email пользователя |

### Ответ

```json
{
  "success": true,
  "message": "Новое письмо для верификации отправлено на ваш email."
}
```
